https://junhyunny.github.io/msa/design-pattern/distributed-transaction/

<분산 트랜잭션>
하나의 데이터베이스 인스턴스 내에서 한 트랜잭션으로 묶인 SQL문장이 모두 커밋되거나 롤백되듯이 
네트워크로 연결된 여러 개의 데이터베이스 인스턴스가  참여하는 트랜잭션에서도 각각 다른 데이터베이스 인스턴스에서
수행한 SQL문장이 모두 동시에 커밋되거나 롤백될 수 있는 방법이 필요하다.
이렇게 여러 개의 노드 또는 다른 종류의 데이터베이스가 참여하는 하나의 트랜잭션을 분산 트랜잭션이라한다.

XA는 2Pc(two-phase commit)을 이용하여 분산 트랜잭션을 처리

1.애플리케이션 프로그램은 TM에 분산 트랜잭션의 시작을 알림.
2.요청을 받은 TM은 어떤 데이터베이스의 노드가 해당 분산 트랜잭션에 참여하는지 확인. 그리고 데베노드에 시작을 알림.
3.어플리케이션은 각 데베에 SQL문장을 전달 필요한 작업을 수행
데베는 전달받은요청을 해당 XID와 관련된 작업이라고 인지하고 작업을 수행
4.모든 작업이 완료되면 AP는 TM에 종료를 알림.
TM은 해당XID로 참여했던 데베노드에 커밋과 롤백을 동시에하도록지시.