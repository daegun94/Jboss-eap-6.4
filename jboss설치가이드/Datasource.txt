데이터소스란
데이터베이스에 연결하는 방법을 캡슐화한 것으로 RDBMS와 상관없이
공통의 인터페이스를 사용해 연결할 수 있도록 하는 방식

데이터베이스 드라이버나 URL에 대한 정보를 애플리케이션에서 분리하여 서버 측에서 별도로
관리하기 때문에 애플리케이션은 데이터소스를 네이밍 서비스에서 룩업하여 가져다가
데이터베이스 연결을 사용할 수 있음
->app은 service(데베정보가 저장되어있는)에 접근하여 데베 연결을 한다.?

이 네이밍 서비스는 Java Naming and Directory Interface (JNDI)를 사용하고 있기 때문에
애플리케이션에서 룩업할 때 데이터소스의 JNDI이름만 있으면 됨.

데이터베이스와의 연결 관리는 클라이언트 애플리케이션이 아닌 JBoss EAP 6에서 
하게 됨. 비교적 비용이 많이 소요되는 데이터베이스와의 연결도 풀 형태로 관리하여
데이터베이스 연결에 대한 부하를 최소화함.



데이터소스 관련 리소스

JBoss EAP 6의 데이터소스 서브시스템은 Java 표준 데이터소스와 JDBC드라이버 리소스를 하나로
통합하여 관리함.


데이터소스 리소스에서는 데이터소스의 동작에 대한 여러가지 설정 할 수 있음
리소스를 여러 개 작성하여 데이터소스를 여러 개 정의할 수 있음.

JDBC 드라이버 리소스에는 모듈 형태로 참조하기 위한 설정이 필요함.
여기서 말하는 모듈은 JDBC드라이버 jar파일을 EAP 6용 모듈로 만드는 것.
JBoss EAP 6에서는 클래스 패스가 없어 jar 파일을 직접 참조하지 않기 때문에,
데이터소스에서 사용하는 JDBC 드라이버도 모듈화해야함.

JBoss EAP 6에서 데이터소스를 만들려면 JDBC 드라이버를 모듈로 설치하고 데이터소스를 정의해야함

데이터소스는 일반 데이터소스(Non-XA)와 XA 데이터소스 두 가지 형태가 있음.

XA 데이터소스는 하나의 트랜잭션이 여러 데이터베이스에 걸쳐 사용되는 경우에 사용.
그래서 XA데이터 소스를 사용하게 되면 오버헤드가 늘어나게 됨

Non-XA 데이터소스는 한 개의 데이터베이스에 대해서만 트랜잭션을 사용하는 애플리케이션에서 사용

관리 콘솔이나 CLI에서 데이터소스를 만들 때, 애플리케이션의 요구 사항에 따라
데이터소스를 XA 데이터소스로 만들지, Non-XA 데이터소스로 만들지 결정하게 됨.


JDBC란
JDBC API는 Java 애플리케이션이 데이터베이스ㅔ 접근하는 방법을 정의하는 표준.
JDBC 드라이버를 참조하는 데이터소소는 애플리케이션 서버에서 설정.
그런 다음 애플리케이션에서는 애플리케이션 서버ㅔ서 설정한 데이터소스를 룩업하여,
표준 JDBC API를 사용하여 코드를 작성하면 그 코드를 해당 데이터베이스에서 
사용할 수 있도록 변환하여 실행.
따라서 애플리케이션에서 JDBC 드라이버를 참조하는 코드를 한 번만 작성하면 어떤
데이터베이스에도 사용할 수 있음.

최근에는 Java EE의 애플리케이션에서 데이터베이스에 접근하는 경우 JPA를 사용하는 경우가 있음.
JPA는 O/R맵핑 아키텍처를 사용하는 Java프레임워크이며 JavaEE 6 VYWNS.
JPA를 사용하면 Java의 오브젝트 구조와 데이터베이스의 테이블 구조가 자동으로 
변환되기 때문에 애플리케이션 코딩 및 데이터베이스 변경이 쉬워짐.
JPA에서 데이터베이스에 접근할때ㅔ도 데이터소스를 사용.


<EAP 6에서 JDBC 드라이버를 등록하는 방법>
1. JDBC드라이버인 jar파일 자체를 애플리케이션처럼 배포하여 등록
jar 파일로 배포하는 경우에 동적 모듈로 인식하여
데이터소스로부터 참조 가능한 상태가 됩니다.

	도메인관리여부로는
	도메인 환경에서 여러 개의 인스턴스를 관리하는 경우 배포도 일괄 관리할 수 있어,
	여러개의 인스턴스가 사용하고 있는 JDBC 드라이버를 일괄적으로 버전 업그레이드하는 관리가 가능.

	JDBC드라이버 패키지
	JDBC드라이버가 여러 개의 jar 파일로 구성된경우, 배포하면 다른 모듈로 인식되기 때문에
	이 방법을 사용할 수 없음.





2. JDBC jar파일을 모듈 형태로 패키징하여 등록하는 방법.
$JBOSS_HOME/module 디렉터리 아래에 복사하여 모듈화함.
이러한 커스텀 모듈은 다른 모듈로부터 의존관계로 참조되는 경우 사용됩니다.


	도메인관리여부로는
	커스텀 모듈은 도메인모드의 관리 대상이 아니어서 여러 개의 노드에 대해
	일괄 관리할 수 없습니다.

	JDBC 드라이버 패키지
	모듈을 정의할 때 jar 파일을 여러 개 지정할 수 있기때문에
	JDBC 드라이버의 jar파일이 여러 개일 경우에도 사용할 수 있음.

3. JDBC ja






















